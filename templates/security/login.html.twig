{% extends "base.html.twig" %}
{% block title %} Sign In Form {% endblock %}
{% block content %}
    <script>
        $(document).ready(function () {
            $('.fadeIn').each(function (fadeInDiv) {
                $(this).delay(fadeInDiv * 500).fadeIn(1000);
            });

        });

    </script>
    {% if error %}
        <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}
    <div class="text-center">
        <div class="fadeIn">
            <h1> Sign in form </h1>
        </div>
        <div class="fadeIn">
            <form action="{{ path('login') }}" method="post">
                <div class="p-3 mb-3">
                    <div class="input-group mb-3">
                        <input class="form-control" type="text" id="username" class="block mt-1 w-full"
                               placeholder="Username" name="_username"
                               value="{{ last_username }}"/>
                    </div>
                    <div class="input-group mb-3">
                        <input class="form-control password" id="password" class="block mt-1 w-full" type="password"
                               name="_password" placeholder="Password"/>
                        <span class="input-group-text togglePassword" id="">
              <i data-feather="eye" style="cursor: pointer"></i>
          </span>

                    </div>
                    <button type="submit" class="btn btn-primary">Log in</button>
                    <input type="hidden" name="_target_path" value="{{ path('blogs_show_all') }}"/>
                </div>
            </form>
        </div>
    </div>
    <br>
    <script>
        feather.replace({'aria-hidden': 'true'});

        $(".togglePassword").click(function (event) {
            event.preventDefault();
            let type = $(this).parent().parent().find(".password").attr("type");
            if (type == "password") {
                $("svg.feather.feather-eye").replaceWith(feather.icons["eye-off"].toSvg());
                $(this).parent().parent().find(".password").attr("type", "text");
            } else if (type == "text") {
                $("svg.feather.feather-eye-off").replaceWith(feather.icons["eye"].toSvg());
                $(this).parent().parent().find(".password").attr("type", "password");
            }
        });
    </script>
{% endblock %}